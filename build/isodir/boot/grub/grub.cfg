# GRUB Configuration for GegOS

# Set timeout (seconds to wait before auto-boot)
set timeout=3

# Set default menu entry
set default=0

# Load video drivers
insmod all_video

# 32-bit kernel entry
menuentry "GegOS" {
    insmod all_video
    # Configure console output
    terminal_input console
    terminal_output console
    multiboot /boot/gegos.bin
    boot
}

# 32-bit Debug Mode
menuentry "GegOS (Debug)" {
    serial --unit=0 --speed=115200
    terminal_output serial console
    multiboot /boot/gegos.bin
    boot
}

# 64-bit Debug Mode
menuentry "GegOS (64-bit Debug)" {
    # Enable serial console
    serial --unit=0 --speed=115200
    terminal_output serial console
    
    # Load the multiboot kernel (64-bit)
    multiboot /boot/gegos64.bin
    
    # Boot the kernel
    boot
}
